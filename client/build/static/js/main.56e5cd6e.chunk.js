(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{3:function(e,t,a){e.exports={navbar:"navbar_navbar__3dsc0",icon:"navbar_icon__26G4p",navItem:"navbar_navItem__3AkIx",navLink:"navbar_navLink__39uMW",Sidebar:"navbar_Sidebar__3KNcl",sideLink:"navbar_sideLink__1j0Xb",closebtn:"navbar_closebtn__1S3ZL"}},41:function(e,t,a){e.exports={loader:"Spinner_loader__w_lNe",load2:"Spinner_load2__2HsjQ"}},43:function(e,t,a){e.exports=a(73)},48:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(23),c=a.n(o),s=(a(48),a(6)),i=a(7),l=a(9),u=a(8),d=a(4),m=a(10),p=a(12),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.children}}]),a}(r.Component),f="SET_ERRORS",b=a(11),g=a.n(b),v=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},E=a(25),w=a.n(E),y=function(e,t){return function(a){g.a.post("https://selnby.herokuapp.com/signup",e).then((function(e){a(function(e,t){return e.error?{type:f,errors:e.error}:(t.push("/login"),{type:"CLEAR_ERRORS"})}(e.data,t)),a(x())})).catch((function(e){}))}},N=function(e,t){return t&&t.push("/myProducts"),{type:"LOGIN_SUCCESS",res:e}},O=function(e,t){return function(a){if(e.error)a((n=e.error,{type:f,errors:n})),a(x());else{localStorage.setItem("jwtToken",e.token),v(e.token);var r=w()(e.token);a(N(r,t)),a(x())}var n}},x=function(){return{type:"SET_LOADING"}},k=function(e,t,a){return e.msg&&"Success"===e.msg?"/forgotPassword"===t.pathname?{type:"SET_MSG",msg:"We have send an email to specified address. Please check it."}:(a.push("/login"),{type:"DEFAULT"}):{type:f,errors:e.error?e.error:[],msg:e.msg}},j=function(e){return function(t){"/"===e&&(e="/shop"),g.a.get("https://selnby.herokuapp.com".concat(e)).then((function(e){t(function(e){return e.error?{type:f,errors:e.error}:{type:"GET_PRODUCTS",products:e}}(e.data))})).catch((function(e){}))}},I=function(e,t){return function(a){g.a.get("https://selnby.herokuapp.com/product/".concat(e)).then((function(e){a(function(e,t){return e.error?(t.push("/"),{type:f,errors:e.error}):{type:"GET_PRODUCT",res:e}}(e.data,t))})).catch((function(e){}))}},S=a(2),C=a.n(S),P=a(3),_=a.n(P),L=a(22),D=a.n(L),R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).closeSidebar=function(){D()(".Sidebar").css("width","0"),D()(".Sidebar").css("display","none"),e.props.resetNav()},e.showSidebar=function(){D()(".Sidebar").css("width","25vw"),D()(".Sidebar").css("display","flex"),e.props.setNav()},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this,a=n.a.createElement(h,null,n.a.createElement("li",{className:C()("nav-item",_.a.navItem,{active:"/signin"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark authLink",_.a.navLink),style:{right:"9vmin"},to:"/signup"},"Sign Up")),n.a.createElement("li",{className:C()("nav-item",_.a.navItem,{active:"/login"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark authLink",_.a.navLink),style:{margin:"0px",right:"1vmin"},to:"/login"},"Login")));e=n.a.createElement(h,null,n.a.createElement("li",{className:C()("nav-item",{active:"/signin"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink),to:"/signup"},"Sign Up")),n.a.createElement("li",{className:C()("nav-item",{active:"/login"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink),to:"/login"},"Login"))),this.props.isAuthenticated&&(a=n.a.createElement(h,null,n.a.createElement("li",{className:C()("nav-item",_.a.navItem,{active:"/addProduct"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.navLink),to:"/addProduct"},"Add Product")),n.a.createElement("li",{className:C()("nav-item",_.a.navItem,{active:"/myOrders"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.navLink),to:"/myOrders"},"Orders")),n.a.createElement("li",{className:C()("nav-item",_.a.navItem)},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark authLink",_.a.navLink),style:{right:"1vmin"},onClick:function(){return t.props.logOut()},to:"/login"},"Logout"))),e=n.a.createElement(h,null,n.a.createElement("li",{className:C()("nav-item",{active:"/addProduct"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink,{active:"/addProduct"===window.location.pathname}),to:"/addProduct"},"Add Product")),n.a.createElement("li",{className:C()("nav-item",{active:"/myOrders"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink,{active:"/myOrders"===window.location.pathname}),to:"/myOrders"},"Orders")),n.a.createElement("li",{className:C()("nav-item")},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink,{active:"/logout"===window.location.pathname}),onClick:function(){return t.props.logOut()},to:"/login"},"Logout"))));var r=n.a.createElement("div",{className:C()("navbar navbar-expand p-0 mb-2",_.a.navbar)},n.a.createElement("ul",{className:C()("navbar-nav")},n.a.createElement("li",{className:C()("nav-item",_.a.navItem)},n.a.createElement("img",{src:"https://selnby.herokuapp.com/images/selnby.jpg",alt:"Logo"})),n.a.createElement("li",{className:C()("nav-item icon",_.a.icon)},n.a.createElement("button",{className:"btn btn-light",onClick:function(){return t.showSidebar()}},n.a.createElement("i",{className:"fas fa-bars"}))),n.a.createElement("li",{className:C()("nav-item",_.a.navItem,{active:"/"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.navLink),to:"/"},"Home")),n.a.createElement("li",{className:C()("nav-item",_.a.navItem,{active:"/myProducts"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.navLink),to:"/myProducts"},"My Products")),n.a.createElement("li",{className:C()("nav-item",_.a.navItem,{active:"/cart"===window.location.pathname})},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.navLink),to:"/cart"},n.a.createElement("i",{className:"fas fa-shopping-bag"}),"Cart")),a));this.props.showNavBar||(r="");var o=n.a.createElement("div",{className:C()("Sidebar navbar p-0",_.a.Sidebar)},n.a.createElement("ul",{className:C()("navbar-nav",_.a.SidebarNav)},n.a.createElement("li",{className:C()("nav-item")},n.a.createElement("button",{className:C()("text-dark btn",_.a.closebtn),onClick:function(){return t.closeSidebar()}},"\xd7")),n.a.createElement("li",{className:C()("nav-item")},n.a.createElement("img",{src:"http://localhost:5000/images/selnby.jpg",alt:"Logo"})),n.a.createElement("li",{className:C()("nav-item")},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink,{active:"/"===window.location.pathname}),to:"/"},"Home")),n.a.createElement("li",{className:C()("nav-item")},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink,{active:"/myProducts"===window.location.pathname}),to:"/myProducts"},"My Products")),n.a.createElement("li",{className:C()("nav-item")},n.a.createElement(m.b,{className:C()("nav-link text-center text-dark",_.a.sideLink,{active:"/cart"===window.location.pathname}),to:"/cart"},n.a.createElement("i",{className:"fas fa-shopping-bag"}),"Cart")),e));return this.props.showSidebar||(o=""),n.a.createElement(h,null,r,o)}}]),a}(r.Component),A=Object(d.g)(Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,showNavBar:e.shop.showNavBar,showSidebar:e.shop.showSidebar}}),(function(e){return{logOut:function(){return e((function(e){localStorage.removeItem("jwtToken"),v(null),e(N(null))}))},setNav:function(){return e({type:"SET_NAV"})},resetNav:function(){return e({type:"RESET_NAV"})}}}))(R)),T=a(19),U=a(1),H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"card productCard"},n.a.createElement("img",{src:"https://selnby.herokuapp.com/".concat(this.props.imageUrl),className:"card-img-top",style:{width:"100%",height:"30vh"},alt:"productImage"}),n.a.createElement("div",{className:"card-body row m-0 p-0 pb-5"},n.a.createElement("div",{className:"col-12 font-weight-bold text-dark text-center"},this.props.title),n.a.createElement("div",{className:"col-12 font-weight-bold text-dark text-center"},"\u20b9 ",this.props.price)))}}]),a}(r.Component),G=a(41),M=a.n(G),F=function(){return n.a.createElement("div",{className:M.a.loader},"Loading...")},B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={products:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;"/myProducts"!==e&&(e="/"),this.props.getProducts(e)}},{key:"componentWillUnmount",value:function(){this.props.resetLoading()}},{key:"render",value:function(){var e=this.state.products.map((function(e){return n.a.createElement(m.b,{key:e._id,className:"text-decoration-none col-6 col-sm-4 col-md-3 col-xl-2 productLink",to:"product/".concat(e._id)},n.a.createElement(H,{title:e.title,description:e.description,price:e.price,imageUrl:e.imageUrl}))}));return this.props.loading&&(e=n.a.createElement(F,null)),n.a.createElement("div",{className:"row m-2 mt-3 Home"},e)}}]),a}(r.Component);B.getDerivedStateFromProps=function(e,t){return Object(U.a)(Object(U.a)({},t),{},{products:Object(T.a)(e.products)})};var W=Object(d.g)(Object(p.b)((function(e){return{products:e.shop.products,loading:e.shop.loading,error:e.error.errors}}),(function(e){return{getProducts:function(t){return e(j(t))},resetLoading:function(){return e({type:"RESET_LOADING"})}}}))(B)),V=function(e){return{type:"CLEAR_ERROR",indexes:e}},z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={errors:[],email:"",password:""},e.onChangeHandler=function(t){var a=Object(U.a)({},e.state);a[t.target.name]=t.target.value;var r=e.state.errors.map((function(e){return Object(U.a)({},e)})),n=[];if("password"===t.target.name){if(t.target.value.length>=8){var o=r.findIndex((function(e){return"password"===e.param}));o>=0&&n.push(o)}}else{if(t.target.value.match(/^\w+([-]?\w+)*@\w+([-]?\w+)*(\w{2,3})+$/)){var c=r.findIndex((function(e){return"email"===e.param}));c>=0&&"Should be valid e-mail"!==r[c].msg&&(c=-1),c>=0&&n.push(c)}}n.length>=0&&e.props.clearError(n),e.setState(Object(U.a)({},a))},e.onSubmitHandler=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.submitHandler(a,e.props.history),e.props.resetLoading()},e.showPassword=function(e){e.preventDefault();var t=e.target.parentNode.parentNode.parentNode.firstChild;"password"===t.type?t.type="text":t.type="password"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.setLoading()}},{key:"componentWillUnmount",value:function(){this.props.clearErrors(),this.props.resetLoading()}},{key:"render",value:function(){var e,t=this,a=n.a.createElement("form",{className:"my-3 mx-auto p-3 border rounded border-success w-55",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"E-mail:",n.a.createElement("input",{type:"mail",placeholder:"E-mail",name:"email",id:"email",onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"email"===e.param}))>=0})}),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"email"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"email"===e.param}))].msg:""))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Password:",n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"password"===e.param}))>=0})}),n.a.createElement("div",{className:"input-append border border-success"},n.a.createElement("button",{className:"h-100 bg-white border-0",onClick:function(e){t.showPassword(e)}},n.a.createElement("i",{className:"fas fa-eye"})))),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"password"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"password"===e.param}))].msg:""))),n.a.createElement(m.b,{to:"/forgotPassword",className:"text-dark d-block m-2 text-decoration-none"},"Forgot Password"),n.a.createElement("button",{type:"submit",onClick:function(e){return t.onSubmitHandler(e)},className:"btn btn-outline-success"},"Login"));return this.props.loading&&(e=n.a.createElement(F,null)),n.a.createElement("div",{className:"container"},a,e)}}]),a}(r.Component);z.getDerivedStateFromProps=function(e,t){return Object(U.a)(Object(U.a)({},t),{},{errors:e.errors})};var Y=Object(d.g)(Object(p.b)((function(e){return{errors:e.error.errors,isAuthenticated:e.auth.isAuthenticated,loading:e.shop.loading}}),(function(e){return{submitHandler:function(t,a){return e(function(e,t){return function(a){g.a.post("https://selnby.herokuapp.com/login",e).then((function(e){a(O(e.data,t))})).catch((function(e){}))}}(t,a))},clearError:function(t){return e(V(t))},clearErrors:function(){return e({type:"CLEAR_ERRORS"})},setLoading:function(){return e({type:"SET_LOADING"})},resetLoading:function(){return e({type:"RESET_LOADING"})}}}))(z)),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={errors:[],name:"",email:"",password:"",confirmPassword:""},e.onChangeHandler=function(t){var a=Object(U.a)({},e.state);a[t.target.name]=t.target.value;var r=e.state.errors.map((function(e){return Object(U.a)({},e)})),n=[];if("name"===t.target.name)t.target.value.length>=4&&r.forEach((function(e,a){"name"===e.param&&("Name must be 4 characters long"===e.msg||t.target.value.match(/^[A-Za-z]+$/))&&n.push(a)}));else if("password"===t.target.name){if(t.target.value.length>=8){var o=r.findIndex((function(e){return"password"===e.param}));o>=0&&n.push(o)}}else if("confirmPassword"===t.target.name){if(t.target.value===e.state.password){var c=r.findIndex((function(e){return"confirmPassword"===e.param}));c>=0&&n.push(c)}}else{if(t.target.value.match(/^\w+([-]?\w+)*@\w+([-]?\w+)*(\w{2,3})+$/)){var s=r.findIndex((function(e){return"email"===e.param}));s>=0&&"Should be valid e-mail"!==r[s].msg&&(s=-1),s>=0&&n.push(s)}}n.length>=0&&e.props.clearError(n),e.setState(Object(U.a)({},a))},e.onSubmitHandler=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword};e.props.submitHandler(a,e.props.history),e.props.resetLoading()},e.showPassword=function(e){e.preventDefault();var t=e.target.parentNode.parentNode.parentNode.firstChild;"password"===t.type?t.type="text":t.type="password"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.setLoading()}},{key:"componentWillUnmount",value:function(){this.props.clearErrors(),this.props.resetLoading()}},{key:"render",value:function(){var e,t=this;return this.props.loading&&(e=n.a.createElement(F,null)),n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"my-3 mx-auto p-3 border rounded border-success w-55",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Name:",n.a.createElement("input",{type:"text",placeholder:"Mayank",name:"name",id:"name",onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"name"===e.param}))>=0})}),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"name"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"name"===e.param}))].msg:""))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"E-mail:",n.a.createElement("input",{type:"mail",placeholder:"E-mail",name:"email",id:"email",onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"email"===e.param}))>=0})}),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"email"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"email"===e.param}))].msg:""))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Password:",n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"password"===e.param}))>=0})}),n.a.createElement("div",{className:"input-append border border-success"},n.a.createElement("button",{className:"h-100 bg-white border-0",onClick:function(e){return t.showPassword(e)}},n.a.createElement("i",{className:"fas fa-eye"})))),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"password"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"password"===e.param}))].msg:""))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Confirm Password:",n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Password",onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"confirmPassword"===e.param}))>=0})}),n.a.createElement("div",{className:"input-append border border-success"},n.a.createElement("button",{className:"h-100 bg-white border-0",onClick:function(e){return t.showPassword(e)}},n.a.createElement("i",{className:"fas fa-eye"})))),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"confirmPassword"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"confirmPassword"===e.param}))].msg:""))),n.a.createElement("button",{type:"submit",onClick:function(e){return t.onSubmitHandler(e)},className:"btn btn-outline-success"},"Sign Up")),e)}}]),a}(r.Component);$.getDerivedStateFromProps=function(e,t){return Object(U.a)(Object(U.a)({},t),{},{errors:e.errors})};var Q=Object(p.b)((function(e){return{errors:e.error.errors,loading:e.shop.loading}}),(function(e){return{submitHandler:function(t,a){return e(y(t,a))},clearError:function(t){return e(V(t))},clearErrors:function(){return e({type:"CLEAR_ERRORS"})},setLoading:function(){return e({type:"SET_LOADING"})},resetLoading:function(){return e({type:"RESET_LOADING"})}}}))($),J=function(e){return{type:f,errors:Object(T.a)(e)}},Z=function(e,t){return function(a){g.a.post("https://selnby.herokuapp.com/addToCart",{productId:e}).then((function(e){a(function(e,t){return function(a){e.error?a(J(e.error)):(t&&t.push("/cart"),a(X()))}}(e.data,t))})).catch((function(e){}))}},K=function(e){return function(t){g.a.post("https://selnby.herokuapp.com/removeFromCart",{productId:e}).then((function(e){t(function(e){return function(t){e.error?t(J(e.error)):t(X())}}(e.data))})).catch((function(e){}))}},X=function(){return function(e){g.a.get("https://selnby.herokuapp.com/getCart").then((function(t){e(function(e){return{type:"GET_CART",res:e.cart}}(t.data)),e(re())})).catch((function(e){}))}},q=function(e,t){return function(a){g.a.delete("https://selnby.herokuapp.com/delete/".concat(e)).then((function(e){a(function(e,t){return e.error?{type:f,errors:e.error}:(t.push("/myProducts"),{type:"DEFAULT"})}(e.data,t))})).catch((function(e){}))}},ee=function(e,t,a){return function(r){var n="https://selnby.herokuapp.com/addProduct";a&&(n="https://selnby.herokuapp.com/editProduct/".concat(a,"?edit=true")),g.a.post(n,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){r(function(e,t){return e.error?{type:f,errors:e.error}:(t.push("/myProducts"),{type:"DEFAULT"})}(e.data,t)),r(re())})).catch((function(e){}))}},te=function(e){return function(t){g.a.post("https://selnby.herokuapp.com/order").then((function(a){t(function(e,t){return e.error?{type:f,errors:e.error}:(t.push("/myOrders"),{type:"DEFAULT"})}(a.data,e))})).catch((function(e){}))}},ae=function(){return function(e){g.a.get("https://selnby.herokuapp.com/myOrders").then((function(t){e(function(e){return e.error?{type:f,errors:e.error}:{type:"GET_ORDERS_SUCCESS",orders:e.orders}}(t.data)),e(re())})).catch((function(e){}))}},re=function(){return{type:"SET_LOADING"}},ne=function(e,t){return function(a){g.a.post("https://selnby.herokuapp.com/addReview",{productId:e,review:t}).then((function(t){a(function(e,t){return function(a){if(e.error)return{type:f,errors:e.error};a(I(t))}}(t.data,e))})).catch((function(e){}))}},oe=function(e){return function(t){g.a.post("https://selnby.herokuapp.com/removeReview",{productId:e}).then((function(a){t(function(e,t){return function(a){if(e.error)return{type:f,errors:e.error};a(I(t))}}(a.data,e))})).catch((function(e){}))}},ce=function(){return function(e){g.a.get("https://selnby.herokuapp.com/getBoughtProducts").then((function(t){e(function(e){return e.error?{type:f,errors:e.error}:{type:"GET_BOUGHT_PRODUCTS",boughtProducts:e.boughtProducts}}(t.data))})).catch((function(e){}))}},se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCart()}},{key:"componentWillUnmount",value:function(){this.props.resetLoading()}},{key:"render",value:function(){var e,t=this;return e=this.props.cart.length>0?n.a.createElement("div",{className:"container my-2 mx-auto p-0 w-60"},n.a.createElement("div",{className:"d-flex justify-content-between mx-1"},n.a.createElement("div",{className:"font-weight-bold"},this.props.cart.length," Items"),n.a.createElement("div",{className:"font-weight-bold"},"Total Price: \u20b9",this.props.price)),this.props.cart.map((function(e){return n.a.createElement("div",{key:e.productId._id,className:"container row p-0 my-3 mx-1",style:{boxShadow:"0px 1px 3px grey"}},n.a.createElement("div",{className:"col-3 p-0 m-0"},n.a.createElement("img",{src:"https://selnby.herokuapp.com/".concat(e.productId.imageUrl),alt:"productImage",style:{width:"100%",height:"20vh",boxShadow:"0px 1px 4px grey"}})),n.a.createElement("div",{className:"col-9 m-0"},n.a.createElement("h2",{className:"text-center font-weight-bolder"},e.productId.title),n.a.createElement("p",{className:"text-center text-justify text-capitalize ml-1"},e.productId.description),n.a.createElement("p",{className:"text-center font-weight-bold"},"\u20b9",e.productId.price),n.a.createElement("div",{className:"text-center align-bottom"},"Qty : ",e.count,n.a.createElement("div",{className:"btn-group"},n.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return t.props.addToCart(e.productId._id)}},"+"),n.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return t.props.removeFromCart(e.productId._id)}},"-")))))})),n.a.createElement("button",{className:"btn btn-primary d-block mx-auto",onClick:function(){return t.props.order(t.props.history)}},"Order Now")):n.a.createElement("p",{className:"text-center display-5"},"You have no Items in your cart."),this.props.loading&&(e=n.a.createElement(F,null)),e}}]),a}(r.Component),ie=Object(p.b)((function(e){return{cart:e.admin.cart,price:e.admin.price,error:e.error.errors,loading:e.shop.loading}}),(function(e){return{getCart:function(){return e(X())},addToCart:function(t){return e(Z(t))},removeFromCart:function(t){return e(K(t))},order:function(t){return e(te(t))},resetLoading:function(){return e({type:"RESET_LOADING"})}}}))(se),le=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={errors:[],title:"",price:"",description:"",imageUrl:null,productId:"",filename:"Choose Image:"},e.onChangeHandler=function(t){var a=Object(U.a)({},e.state);a[t.target.name]=t.target.value;var r=e.state.errors.map((function(e){return Object(U.a)({},e)})),n=-1;"title"===t.target.name?t.target.value.length>=3&&(n=r.findIndex((function(e){return"title"===e.param}))):"price"===t.target.name?+t.target.value>0&&(n=r.findIndex((function(e){return"price"===e.param}))):+t.target.value.length>=10&&(n=r.findIndex((function(e){return"description"===e.param}))),n>=0&&r.splice(n,1),e.setState(Object(U.a)(Object(U.a)({},a),{},{errors:r}))},e.onChangeHandlerFile=function(t){if(t.target.files.length){var a=t.target.files[0],r=Object(U.a)({},e.state);r.imageUrl=a,r.filename=a.name;var n=e.state.errors.map((function(e){return Object(U.a)({},e)})),o=n.findIndex((function(e){return"imageUrl"===e.param}));o>=0&&n.splice(o,1),e.setState(Object(U.a)(Object(U.a)({},r),{},{errors:n}))}},e.onSubmitHandler=function(t,a){if(t.preventDefault(),e.state.imageUrl||e.props.match.params.productId){e.setState({errors:[]});var r=new FormData;r.append("title",e.state.title),r.append("price",e.state.price),r.append("description",e.state.description),e.state.imageUrl&&r.append("imageUrl",e.state.imageUrl),e.props.resetLoading(),e.props.addProduct(r,a,e.props.match.params.productId)}else{var n=[];n.push({location:"body",param:"imageUrl",msg:"You have to choose a image"}),e.state.title||n.push({location:"body",param:"title",msg:"Enter a title"}),e.state.price||n.push({location:"body",param:"price",msg:"Enter price"}),e.state.description||n.push({location:"body",param:"description",msg:"Please describe the product"}),e.setState({errors:[].concat(n)})}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.productId?this.props.getProduct(this.props.match.params.productId):(this.props.clearProductData(),this.setState({errors:[],title:"",price:"",description:"",imageUrl:null,productId:"",filename:"Choose a Image"})),this.props.setLoading()}},{key:"componentWillUnmount",value:function(){this.props.clearProductData(),this.props.clearErrors(),this.props.resetLoading()}},{key:"render",value:function(){var e,t=this;return this.props.loading&&(e=n.a.createElement(F,null)),n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"my-3 mx-auto p-3 border rounded border-success w-55",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Title:",n.a.createElement("input",{type:"text",placeholder:"Title",name:"title",id:"title",value:this.state.title,onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"title"===e.param}))>=0})})),n.a.createElement("div",{className:"invalid-feedback d-block"},this.state.errors.findIndex((function(e){return"title"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"title"===e.param}))].msg:"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-file"},n.a.createElement("label",{className:C()("custom-file-label border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"imageUrl"===e.param}))>=0})},this.state.filename,n.a.createElement("input",{type:"file",name:"imageUrl",id:"imageUrl",files:this.state.imageUrl,onChange:function(e){return t.onChangeHandlerFile(e)},className:"border border-success custom-file-input"}))),n.a.createElement("div",{className:"invalid-feedback d-block"},this.state.errors.findIndex((function(e){return"imageUrl"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"imageUrl"===e.param}))].msg:"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Price:",n.a.createElement("input",{type:"number",name:"price",id:"price",value:this.state.price,placeholder:"price",onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"price"===e.param}))>=0})}),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"price"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"price"===e.param}))].msg:""))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Description:",n.a.createElement("textarea",{type:"text",name:"description",id:"description",value:this.state.description,onChange:function(e){return t.onChangeHandler(e)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"description"===e.param}))>=0})}),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"description"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"description"===e.param}))].msg:""))),n.a.createElement("button",{type:"submit",onClick:function(e){return t.onSubmitHandler(e,t.props.history)},className:"btn btn-outline-success"},"Add Product")),e)}}]),a}(r.Component);le.getDerivedStateFromProps=function(e,t){return t.errors.length>0?Object(U.a)({},t):e.errors.length>0?Object(U.a)(Object(U.a)({},t),{},{errors:Object(T.a)(e.errors)}):t.title||t.imageUrl||t.price||t.description?Object(U.a)({},t):Object(U.a)(Object(U.a)({},t),{},{title:e.productData.title,description:e.productData.description,price:e.productData.price,productId:e.productData.productId,filename:e.productData.imageUrl?e.productData.imageUrl.split("-")[1]:"Choose Image:"})};var ue=Object(d.g)(Object(p.b)((function(e){return{errors:e.error.errors,productData:e.shop.productData,loading:e.shop.loading}}),(function(e){return{addProduct:function(t,a,r){return e(ee(t,a,r))},getProduct:function(t){return e(I(t))},clearProductData:function(){return e({type:"CLEAR_PRODUCT_DATA"})},clearErrors:function(){return e({type:"CLEAR_ERRORS"})},setLoading:function(){return e({type:"SET_LOADING"})},resetLoading:function(){return e({type:"RESET_LOADING"})}}}))(le)),de=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={title:"",imageUrl:"",description:"",price:0,userId:"",creator:"",productId:"",reviews:[],msg:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getProduct(this.props.match.params.productId,this.props.history),this.props.isAuthenticated&&this.props.getBoughtProducts()}},{key:"componentWillUnmount",value:function(){this.props.resetLoading()}},{key:"addReview",value:function(){var e=this;if(this.props.isAuthenticated)if(this.props.boughtProducts.find((function(t){return t.productId&&t.productId.toString()===e.state.productId.toString()}))){var t=document.getElementsByClassName("reviewData")[0].value;t.trim().length>0&&this.props.addReview(this.state.productId,t)}else this.setState({msg:"You can rate only bought products"});else this.setState({msg:"You must be logged in to rate products"})}},{key:"removeReview",value:function(){this.props.removeReview(this.state.productId)}},{key:"render",value:function(){var e,t=this;this.props.isAuthenticated&&(e=this.state.userId&&this.state.userId.toString()===this.state.creator.toString()?n.a.createElement("div",{className:"row mt-3"},n.a.createElement("div",{className:"col-4"},n.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return t.props.addToCart(t.state.productId,t.props.history)}},"Add To Cart",n.a.createElement("i",{className:"fas fa-shopping-bag"}))),n.a.createElement("div",{className:"col-4"},n.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return t.props.history.push("/editProduct/".concat(t.state.productId))}},"Edit")),n.a.createElement("div",{className:"col-4"},n.a.createElement("button",{className:"btn btn-danger w-100",onClick:function(){return t.props.deleteProduct(t.state.productId,t.props.history)}},"Delete"))):n.a.createElement("div",{className:"row mt-3"},n.a.createElement("div",{className:"col-4 mx-auto"},n.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return t.props.addToCart(t.state.productId,t.props.history)}},"Add To Cart"))));var a=n.a.createElement("div",{className:"container-fluid m-2 mt-4"},n.a.createElement("div",{className:"row w-100"},n.a.createElement("div",{className:"col-sm-6 m-0 p-0"},n.a.createElement("img",{src:"https://selnby.herokuapp.com/".concat(this.state.imageUrl),alt:"productImage",style:{width:"100%",height:"60vh",boxShadow:"0px 1px 4px grey"}}),e),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("h2",{className:"text-center font-weight-bolder mt-2"},this.state.title),n.a.createElement("p",{className:"text-center text-justify ml-1"},this.state.description),n.a.createElement("p",{className:"text-center font-weight-bold"},"\u20b9",this.state.price),n.a.createElement("div",{className:"mt-2"},n.a.createElement("h3",{className:"ml-1 mt-2 font-weight-bold"},"Reviews"),n.a.createElement("textarea",{rows:"5",className:"reviewData form-control",style:{boxShadow:"1px 1px 3px grey"},placeholder:"Add review"}),n.a.createElement("button",{className:"btn btn-outline-primary mt-2",onClick:function(){return t.addReview()}},"Add"),n.a.createElement("p",{className:"text-info"},this.state.msg),this.state.reviews?this.state.reviews.map((function(e){return n.a.createElement("div",{className:"border p-2 my-2",key:e._id,style:{boxShadow:"1px 1px 3px grey"}},n.a.createElement("div",null,n.a.createElement("span",{className:"font-weight-bold font-size-large mr-1"},e.userName),e.date),n.a.createElement("div",{className:"text-justify my-1"},e.review),e.userId.toString()===t.props.userId.toString()?n.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return t.removeReview()}},"Delete"):"")})):""))));return this.props.loading&&(a=n.a.createElement(F,null)),a}}]),a}(r.Component);de.getDerivedStateFromProps=function(e,t){return Object(U.a)(Object(U.a)({},t),{},{title:e.productData.title,imageUrl:e.productData.imageUrl,description:e.productData.description,price:e.productData.price,creator:e.productData.userId,productId:e.productData._id,userId:e.userId,reviews:e.productData.reviews})};var me=Object(d.g)(Object(p.b)((function(e){return{productData:e.shop.productData,userId:e.auth.userId,isAuthenticated:e.auth.isAuthenticated,loading:e.shop.loading,boughtProducts:e.auth.boughtProducts}}),(function(e){return{getProduct:function(t,a){return e(I(t,a))},addToCart:function(t,a){return e(Z(t,a))},deleteProduct:function(t,a){return e(function(e,t){return function(a){g.a.post("https://selnby.herokuapp.com/clearItemFromCart",{productId:e}).then((function(r){r.error||a(q(e,t))})).catch((function(e){}))}}(t,a))},resetLoading:function(){return e({type:"RESET_LOADING"})},addReview:function(t,a){return e(ne(t,a))},removeReview:function(t){return e(oe(t))},getBoughtProducts:function(){return e(ce())}}}))(de)),pe=function(e){return n.a.createElement("div",{className:"container my-2 mx-auto p-0 w-60"},n.a.createElement("div",{className:"d-flex justify-content-between mx-1"},n.a.createElement("div",{className:"font-weight-bold"},e.cart.items.length," Items"),n.a.createElement("div",{className:"font-weight-bold"},"Total Price: \u20b9",e.cart.total)),e.cart.items.map((function(e){return n.a.createElement("div",{key:e.productId,className:"container row p-0 my-3 mx-1",style:{boxShadow:"0px 1px 3px grey"}},n.a.createElement("div",{className:"col-3 p-0 m-0"},n.a.createElement("img",{src:"https://selnby.herokuapp.com/".concat(e.imageUrl),alt:"productImage",style:{width:"100%",height:"20vh",boxShadow:"0px 1px 4px grey"}})),n.a.createElement("div",{className:"col-9 m-0"},n.a.createElement("h2",{className:"text-center font-weight-bolder"},e.title),n.a.createElement("p",{className:"text-center text-justify text-capitalize ml-1"},e.description),n.a.createElement("p",{className:"text-center font-weight-bold"},"\u20b9",e.price),n.a.createElement("div",{className:"text-center align-bottom"},"Qty : ",e.count," ")))})))},he=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={orders:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getOrders()}},{key:"componentWillUnmount",value:function(){this.props.resetLoading()}},{key:"render",value:function(){var e;return e=this.props.orders.length>0?this.props.orders.map((function(e){return n.a.createElement(pe,{key:e._id,cart:e.cart,id:e._id})})):n.a.createElement("p",null,"You have no Orders"),this.props.loading&&(e=n.a.createElement(F,null)),n.a.createElement("div",{className:"container-fluid"},e)}}]),a}(r.Component);he.getDerivedStateFromProps=function(e,t){return Object(U.a)(Object(U.a)({},t),{},{orders:e.orders.map((function(e){return Object(U.a)({},e)}))})};var fe=Object(p.b)((function(e){return{orders:e.admin.orders,loading:e.shop.loading}}),(function(e){return{getOrders:function(){return e(ae())},resetLoading:function(){return e({type:"RESET_LOADING"})}}}))(he),be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("footer",{className:"fixed-bottom footer mt-2 p-2 text-dark text-center w-100",style:{zIndex:"10"}},"Copyright \xa9 ",(new Date).getFullYear()," SelNBy")}}]),a}(r.Component),ge=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={errors:[],email:"",password:""},e.onChangeHandler=function(t){var a=Object(U.a)({},e.state);a[t.target.name]=t.target.value;var r=e.state.errors.map((function(e){return Object(U.a)({},e)})),n=[];if("password"===t.target.name){if(t.target.value.length>=8){var o=r.findIndex((function(e){return"password"===e.param}));o>=0&&n.push(o)}}else{if(t.target.value.match(/^\w+([-]?\w+)*@\w+([-]?\w+)*(\w{2,3})+$/)){var c=r.findIndex((function(e){return"email"===e.param}));c>=0&&"Should be valid e-mail"!==r[c].msg&&(c=-1),c>=0&&n.push(c)}}n.length>=0&&e.props.clearError(n),e.setState(Object(U.a)({},a))},e.onSubmitHandler=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.submitHandler(a,e.props)},e.showPassword=function(e){e.preventDefault();var t=e.target.parentNode.parentNode.parentNode.firstChild;"password"===t.type?t.type="text":t.type="password"},e}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clearErrors(),this.props.resetMsg()}},{key:"render",value:function(){var e=this,t=n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"E-mail:",n.a.createElement("input",{type:"mail",placeholder:"E-mail",name:"email",id:"email",onChange:function(t){return e.onChangeHandler(t)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"email"===e.param}))>=0})}),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"email"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"email"===e.param}))].msg:"")));return"/forgotPassword"!==this.props.location.pathname&&(t=n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-block"},"Reset Password:",n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(t){return e.onChangeHandler(t)},className:C()("form-control border border-success",{"is-invalid border-danger":this.state.errors.findIndex((function(e){return"password"===e.param}))>=0})}),n.a.createElement("div",{className:"input-append border border-success"},n.a.createElement("button",{className:"h-100 bg-white border-0",onClick:function(t){e.showPassword(t)}},n.a.createElement("i",{className:"fas fa-eye"})))),n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.findIndex((function(e){return"password"===e.param}))>=0?this.state.errors[this.state.errors.findIndex((function(e){return"password"===e.param}))].msg:"")))),n.a.createElement("form",{className:"container my-3 mx-3 mx-auto p-3 border rounded border-success w-55",noValidate:!0},this.props.msg?n.a.createElement("p",{className:"text-center text-info"},this.props.msg):"",this.props.errorMsg?n.a.createElement("p",{className:"text-center text-danger"},this.props.errorMsg):"",t,n.a.createElement("button",{type:"submit",onClick:function(t){return e.onSubmitHandler(t)},className:"btn btn-outline-success"},"Submit"))}}]),a}(r.Component);ge.getDerivedStateFromProps=function(e,t){return Object(U.a)(Object(U.a)({},t),{},{errors:e.errors})};var ve=Object(d.g)(Object(p.b)((function(e){return{errors:e.error.errors,msg:e.auth.msg,errorMsg:e.error.msg}}),(function(e){return{submitHandler:function(t,a){return e(function(e,t){return function(a){"/forgotPassword"===t.location.pathname?g.a.post("https://selnby.herokuapp.com/resetConfirm",{email:e.email}).then((function(e){a(k(e.data,t.location,t.history))})).catch((function(e){})):g.a.post("https://selnby.herokuapp.com/resetPassword/".concat(t.match.params.token),{password:e.password}).then((function(e){a(k(e.data,t.location,t.history))})).catch((function(e){}))}}(t,a))},clearError:function(t){return e(V(t))},clearErrors:function(){return e({type:"CLEAR_ERRORS"})},resetMsg:function(){return e({type:"RESET_MSG"})}}}))(ge)),Ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e="0px";this.props.showSidebar&&(e="25vw");var t=n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:"/",component:W}),n.a.createElement(d.b,{exact:!0,path:"/login",component:Y}),n.a.createElement(d.b,{exact:!0,path:"/signup",component:Q}),n.a.createElement(d.b,{exact:!0,path:"/product/:productId",component:me}),n.a.createElement(d.a,{exact:!0,from:"/myProducts",to:"/login"}),n.a.createElement(d.a,{exact:!0,from:"/cart",to:"/login"}),n.a.createElement(d.a,{exact:!0,from:"/addProduct",to:"/login"}),n.a.createElement(d.a,{exact:!0,from:"/editProduct/:productId",to:"/login"}),n.a.createElement(d.a,{exact:!0,from:"/myOrders",to:"/login"}),n.a.createElement(d.b,{exact:!0,path:"/forgotPassword",component:ve}),n.a.createElement(d.b,{exact:!0,path:"/resetPassword/:token",component:ve}),n.a.createElement(d.a,{to:"/"}));return this.props.isAuthenticated&&(t=n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:"/",component:W}),n.a.createElement(d.b,{exact:!0,path:"/product/:productId",component:me}),n.a.createElement(d.b,{exact:!0,path:"/myProducts",component:W}),n.a.createElement(d.b,{exact:!0,path:"/cart",component:ie}),n.a.createElement(d.b,{exact:!0,path:"/addProduct",component:ue}),n.a.createElement(d.b,{exact:!0,path:"/editProduct/:productId",component:ue}),n.a.createElement(d.b,{exact:!0,path:"/myOrders",component:fe}),n.a.createElement(d.a,{to:"/"}))),n.a.createElement("div",{className:"app container-fluid p-0 m-0"},n.a.createElement(A,null),n.a.createElement("div",{style:{marginLeft:e}},t,n.a.createElement(be,null)))}}]),a}(r.Component),we=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,showSidebar:e.shop.showSidebar}}))(Ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=a(42),Ne=a(20),Oe={products:[],productData:{userId:"",price:"",title:"",description:"",imageUrl:null,_id:"",reviews:[]},loading:!0,showNavBar:!0,showSidebar:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(U.a)(Object(U.a)({},e),{},{products:t.products.products.map((function(e){return Object(U.a)({},e)})),loading:!1});case"GET_PRODUCT":return Object(U.a)(Object(U.a)({},e),{},{productData:Object(U.a)({},t.res.product),loading:!1});case"CLEAR_PRODUCT_DATA":return Object(U.a)(Object(U.a)({},e),{},{productData:{userId:"",price:"",title:"",description:"",_id:"",imageUrl:null}});case"SET_LOADING":return Object(U.a)(Object(U.a)({},e),{},{loading:!1});case"RESET_LOADING":return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case"SET_NAV":return Object(U.a)(Object(U.a)({},e),{},{showSidebar:!0,showNavBar:!1});case"RESET_NAV":return Object(U.a)(Object(U.a)({},e),{},{showSidebar:!1,showNavBar:!0});default:return e}},ke={isAuthenticated:!1,userId:"",msg:"",boughtProducts:[]},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{isAuthenticated:Boolean(t.res),userId:Boolean(t.res)?t.res.user:"",boughtProducts:Boolean(t.res)?t.res.boughtProducts:""});case"SET_MSG":return Object(U.a)(Object(U.a)({},e),{},{msg:t.msg});case"RESET_MSG":return Object(U.a)(Object(U.a)({},e),{},{msg:""});case"GET_BOUGHT_PRODUCTS":return Object(U.a)(Object(U.a)({},e),{},{boughtProducts:t.boughtProducts});default:return e}},Ie={price:0,cart:[],orders:[]},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CART":return Object(U.a)(Object(U.a)({},e),{},{price:t.res.total,cart:t.res.items.map((function(e){return Object(U.a)({},e)}))});case"GET_ORDERS_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{orders:t.orders.map((function(e){return Object(U.a)({},e)}))});default:return e}},Ce={errors:[],msg:""},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(U.a)(Object(U.a)({},e),{},{errors:t.errors.map((function(e){return Object(U.a)({},e)})),msg:t.msg?t.msg:""});case"CLEAR_ERROR":return Object(U.a)(Object(U.a)({},e),{},{errors:e.errors.filter((function(e,a){if(!t.indexes.includes(a))return e}))});case"CLEAR_ERRORS":return Object(U.a)(Object(U.a)({},e),{},{errors:[],msg:""});default:return e}},_e=Object(Ne.c)({shop:xe,auth:je,admin:Se,error:Pe}),Le=Object(Ne.d)(_e,Object(Ne.a)(ye.a));if(localStorage.getItem("jwtToken")){var De=localStorage.getItem("jwtToken");v(De);var Re=w()(De);Le.dispatch(N(Re,null))}c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p.a,{store:Le},n.a.createElement(m.a,null,n.a.createElement(we,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.56e5cd6e.chunk.js.map